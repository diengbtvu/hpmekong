# ğŸ“š HÆ¯á»šNG DáºªN QUáº¢N LÃ CHÆ¯Æ NG TRÃŒNH Há»ŒC (CURRICULUM)

## ğŸ¯ Tá»•ng quan

Há»‡ thá»‘ng quáº£n lÃ½ curriculum cho phÃ©p admin táº¡o vÃ  quáº£n lÃ½ ná»™i dung chi tiáº¿t cho tá»«ng khÃ³a há»c, bao gá»“m:
- **Modules (ChÆ°Æ¡ng)**: NhÃ³m cÃ¡c bÃ i há»c theo chá»§ Ä‘á»
- **Lessons (BÃ i há»c)**: Ná»™i dung cá»¥ thá»ƒ cá»§a tá»«ng bÃ i (video, tÃ i liá»‡u, quiz, v.v.)

---

## ğŸš€ CÃ¡ch sá»­ dá»¥ng

### **BÆ°á»›c 1: Táº¡o/Chá»‰nh sá»­a KhÃ³a há»c**

1. ÄÄƒng nháº­p admin panel
2. VÃ o **Quáº£n lÃ½ KhÃ³a há»c**
3. Click **"ThÃªm KhÃ³a há»c"** hoáº·c **"Sá»­a"** khÃ³a há»c hiá»‡n cÃ³
4. Äiá»n thÃ´ng tin cÆ¡ báº£n (Tab 1-4)
5. **LÆ°u khÃ³a há»c trÆ°á»›c** Ä‘á»ƒ cÃ³ thá»ƒ thÃªm curriculum

---

### **BÆ°á»›c 2: ThÃªm Curriculum**

#### **A. Táº¡o Module (ChÆ°Æ¡ng)**

1. Sau khi lÆ°u khÃ³a há»c, chuyá»ƒn sang **Tab "ChÆ°Æ¡ng trÃ¬nh há»c"**
2. Click **"ThÃªm Module"**
3. Äiá»n thÃ´ng tin:
   - **TiÃªu Ä‘á» Module**: VÃ­ dá»¥ "Module 1: Giá»›i thiá»‡u vá» Giao tiáº¿p"
   - **MÃ´ táº£**: MÃ´ táº£ ngáº¯n vá» ná»™i dung module
   - **Thá»© tá»± hiá»ƒn thá»‹**: 0, 1, 2... (tá»± Ä‘á»™ng tÄƒng)
4. Click **"Táº¡o"**

#### **B. ThÃªm BÃ i há»c vÃ o Module**

1. Táº¡i module vá»«a táº¡o, click **"ThÃªm bÃ i há»c"**
2. Äiá»n thÃ´ng tin bÃ i há»c:

   **ThÃ´ng tin cÆ¡ báº£n:**
   - **TiÃªu Ä‘á»**: "BÃ i 1: Giao tiáº¿p lÃ  gÃ¬?"
   - **MÃ´ táº£**: MÃ´ táº£ ngáº¯n vá» bÃ i há»c
   
   **Loáº¡i bÃ i há»c:**
   - ğŸ“¹ **VIDEO**: Video há»c táº­p
   - ğŸ“„ **DOCUMENT**: TÃ i liá»‡u (PDF, DOC)
   - â“ **QUIZ**: BÃ i kiá»ƒm tra
   - ğŸ“ **ASSIGNMENT**: BÃ i táº­p thá»±c hÃ nh
   - ğŸ¥ **LIVE_SESSION**: Buá»•i há»c trá»±c tiáº¿p
   
   **Ná»™i dung:**
   - **URL ná»™i dung**: 
     - Video: `https://youtube.com/embed/VIDEO_ID`
     - TÃ i liá»‡u: Link Google Drive hoáº·c file server
   - **Thá»i lÆ°á»£ng**: Nháº­p sá»‘ phÃºt (VD: 30)
   
   **CÃ i Ä‘áº·t:**
   - âœ… **Xem trÆ°á»›c**: Cho phÃ©p user xem mÃ  khÃ´ng cáº§n Ä‘Äƒng kÃ½
   - âœ… **Miá»…n phÃ­**: BÃ i há»c free cho táº¥t cáº£
   - **Thá»© tá»±**: 0, 1, 2...

3. Click **"Táº¡o"**

---

## ğŸ“‹ Cáº¥u trÃºc Curriculum

```
KhÃ³a há»c: "Ká»¹ nÄƒng Giao tiáº¿p"
â”‚
â”œâ”€â”€ Module 1: Giá»›i thiá»‡u vá» Giao tiáº¿p
â”‚   â”œâ”€â”€ BÃ i 1: Giao tiáº¿p lÃ  gÃ¬? [VIDEO, 30p, XEM TRÆ¯á»šC]
â”‚   â”œâ”€â”€ BÃ i 2: CÃ¡c yáº¿u tá»‘ giao tiáº¿p [VIDEO, 45p]
â”‚   â””â”€â”€ BÃ i 3: Quiz kiá»ƒm tra [QUIZ, 15p]
â”‚
â”œâ”€â”€ Module 2: Ká»¹ nÄƒng láº¯ng nghe
â”‚   â”œâ”€â”€ BÃ i 1: Láº¯ng nghe tÃ­ch cá»±c [VIDEO, 40p]
â”‚   â”œâ”€â”€ BÃ i 2: TÃ i liá»‡u tham kháº£o [DOCUMENT, MIá»„N PHÃ]
â”‚   â””â”€â”€ BÃ i 3: BÃ i táº­p thá»±c hÃ nh [ASSIGNMENT, 60p]
â”‚
â””â”€â”€ Module 3: Thuyáº¿t trÃ¬nh hiá»‡u quáº£
    â”œâ”€â”€ BÃ i 1: Chuáº©n bá»‹ ná»™i dung [VIDEO, 35p]
    â”œâ”€â”€ BÃ i 2: Ká»¹ thuáº­t thuyáº¿t trÃ¬nh [VIDEO, 50p]
    â””â”€â”€ BÃ i 3: Buá»•i há»c trá»±c tiáº¿p [LIVE_SESSION, 120p]
```

---

## âœ¨ TÃ­nh nÄƒng

### **1. Quáº£n lÃ½ Module**
- âœ… Táº¡o, sá»­a, xÃ³a module
- âœ… Sáº¯p xáº¿p thá»© tá»± (drag-drop - tÃ­nh nÄƒng tÆ°Æ¡ng lai)
- âœ… Xem/áº©n danh sÃ¡ch bÃ i há»c
- âœ… Tá»± Ä‘á»™ng tÃ­nh tá»•ng thá»i lÆ°á»£ng

### **2. Quáº£n lÃ½ BÃ i há»c**
- âœ… 5 loáº¡i bÃ i há»c khÃ¡c nhau
- âœ… ThÃªm URL video/tÃ i liá»‡u
- âœ… ÄÃ¡nh dáº¥u "Xem trÆ°á»›c" cho marketing
- âœ… ÄÃ¡nh dáº¥u "Miá»…n phÃ­" cho freemium
- âœ… Quáº£n lÃ½ thá»i lÆ°á»£ng tá»«ng bÃ i

### **3. Hiá»ƒn thá»‹ Public**
- âœ… User xem curriculum trÃªn trang Course Detail
- âœ… Tab "Ná»™i dung" hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ modules & lessons
- âœ… Expand/collapse tá»«ng module
- âœ… Icon phÃ¢n biá»‡t loáº¡i bÃ i há»c
- âœ… Badge "Xem trÆ°á»›c" / "Miá»…n phÃ­"
- âœ… Button "Xem" cho preview lessons

---

## ğŸ”„ Workflow hoÃ n chá»‰nh

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. ADMIN: Táº¡o KhÃ³a há»c                    â”‚
â”‚     - ThÃ´ng tin cÆ¡ báº£n                      â”‚
â”‚     - Ná»™i dung, giÃ¡, cÃ i Ä‘áº·t               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. ADMIN: ThÃªm Curriculum                 â”‚
â”‚     - Táº¡o Modules                           â”‚
â”‚     - ThÃªm Lessons vÃ o tá»«ng Module         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. ADMIN: Publish Course                  â”‚
â”‚     Status: DRAFT â†’ PUBLISHED               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. USER: Xem Course Detail                â”‚
â”‚     - Tab "Ná»™i dung" hiá»ƒn thá»‹ curriculum   â”‚
â”‚     - Xem preview lessons                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. USER: ÄÄƒng kÃ½ khÃ³a há»c                 â”‚
â”‚     - Thanh toÃ¡n (náº¿u cÃ³ phÃ­)              â”‚
â”‚     - Truy cáº­p toÃ n bá»™ lessons             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Best Practices

### **Äáº·t tÃªn Module:**
âœ… **Tá»‘t:**
- "Module 1: Giá»›i thiá»‡u vá» Giao tiáº¿p"
- "ChÆ°Æ¡ng 2: Ká»¹ nÄƒng láº¯ng nghe"
- "Pháº§n 3: Thá»±c hÃ nh nÃ¢ng cao"

âŒ **KhÃ´ng nÃªn:**
- "Module 1" (khÃ´ng rÃµ ná»™i dung)
- "asdasdasd" (khÃ´ng chuyÃªn nghiá»‡p)

### **Äáº·t tÃªn BÃ i há»c:**
âœ… **Tá»‘t:**
- "BÃ i 1: Giao tiáº¿p lÃ  gÃ¬?"
- "1.1 - KhÃ¡i niá»‡m cÆ¡ báº£n"
- "Video: Ká»¹ thuáº­t láº¯ng nghe tÃ­ch cá»±c"

âŒ **KhÃ´ng nÃªn:**
- "Video 1" (khÃ´ng mÃ´ táº£)
- "Untitled" (thiáº¿u thÃ´ng tin)

### **Thá»© tá»± hiá»ƒn thá»‹:**
- Module: 0, 1, 2, 3...
- Lesson: 0, 1, 2, 3... (trong má»—i module)
- Sá»‘ cÃ ng nhá» hiá»ƒn thá»‹ cÃ ng trÆ°á»›c

### **URL ná»™i dung:**

**Video YouTube:**
```
Embed URL: https://www.youtube.com/embed/VIDEO_ID
KhÃ´ng dÃ¹ng: https://www.youtube.com/watch?v=VIDEO_ID
```

**Video Vimeo:**
```
Embed URL: https://player.vimeo.com/video/VIDEO_ID
```

**TÃ i liá»‡u Google Drive:**
```
Public link: https://drive.google.com/file/d/FILE_ID/view
```

### **Thá»i lÆ°á»£ng:**
- Video: Nháº­p chÃ­nh xÃ¡c theo video tháº­t
- Document: Æ¯á»›c tÃ­nh thá»i gian Ä‘á»c (VD: 10-15 phÃºt)
- Quiz: Thá»i gian lÃ m bÃ i dá»± kiáº¿n
- Assignment: Thá»i gian hoÃ n thÃ nh dá»± kiáº¿n

### **Xem trÆ°á»›c & Miá»…n phÃ­:**
- **Xem trÆ°á»›c**: BÃ i Ä‘áº§u tiÃªn cá»§a module 1 (marketing)
- **Miá»…n phÃ­**: TÃ i liá»‡u tham kháº£o, slides
- NÃªn cÃ³ 1-2 bÃ i preview má»—i khÃ³a há»c

---

## ğŸ”’ PhÃ¢n quyá»n

| Vai trÃ²          | Táº¡o | Sá»­a | XÃ³a |
|------------------|-----|-----|-----|
| SUPER_ADMIN      | âœ…  | âœ…  | âœ…  |
| ADMIN            | âœ…  | âœ…  | âœ…  |
| CENTER_MANAGER   | âœ…  | âœ…  | âœ…  |
| USER             | âŒ  | âŒ  | âŒ  |

**LÆ°u Ã½:**
- CENTER_MANAGER chá»‰ quáº£n lÃ½ courses thuá»™c center cá»§a mÃ¬nh
- User chá»‰ xem Ä‘Æ°á»£c curriculum cá»§a courses Ä‘Ã£ publish

---

## ğŸ› Xá»­ lÃ½ lá»—i thÆ°á»ng gáº·p

### **1. "Vui lÃ²ng lÆ°u khÃ³a há»c trÆ°á»›c khi thÃªm chÆ°Æ¡ng trÃ¬nh há»c"**
- **NguyÃªn nhÃ¢n**: ChÆ°a táº¡o/lÆ°u khÃ³a há»c
- **Giáº£i phÃ¡p**: Äiá»n thÃ´ng tin cÆ¡ báº£n â†’ Click "Táº¡o" â†’ Sau Ä‘Ã³ má»›i vÃ o tab Curriculum

### **2. "KhÃ´ng thá»ƒ táº£i ná»™i dung khÃ³a há»c"**
- **NguyÃªn nhÃ¢n**: Lá»—i API hoáº·c chÆ°a cháº¡y migration V3
- **Giáº£i phÃ¡p**: 
  ```bash
  # Kiá»ƒm tra database cÃ³ tables: course_modules, lessons chÆ°a
  docker-compose -f docker-compose.prod.yml exec backend bash
  mysql -u root -p -D hpmekong -e "SHOW TABLES LIKE '%module%'"
  ```

### **3. Video khÃ´ng hiá»ƒn thá»‹**
- **NguyÃªn nhÃ¢n**: URL sai format hoáº·c video private
- **Giáº£i phÃ¡p**: 
  - DÃ¹ng embed URL: `youtube.com/embed/...`
  - Set video public/unlisted trÃªn YouTube

### **4. "Lá»—i lÆ°u module/lesson"**
- **NguyÃªn nhÃ¢n**: Thiáº¿u required fields
- **Giáº£i phÃ¡p**: Äáº£m báº£o Ä‘iá»n Ä‘á»§:
  - Module: Title (báº¯t buá»™c)
  - Lesson: Title (báº¯t buá»™c)

---

## ğŸ“Š Thá»‘ng kÃª tá»± Ä‘á»™ng

Há»‡ thá»‘ng tá»± Ä‘á»™ng tÃ­nh toÃ¡n:
- âœ… **Tá»•ng sá»‘ module** cá»§a khÃ³a há»c
- âœ… **Tá»•ng sá»‘ bÃ i há»c** cá»§a khÃ³a há»c
- âœ… **Tá»•ng thá»i lÆ°á»£ng** tá»«ng module (SUM lessons)
- âœ… **Tá»•ng thá»i lÆ°á»£ng** khÃ³a há»c (SUM modules)

---

## ğŸ¨ UI Components

### **Admin Panel:**
- Component: `CurriculumBuilder.jsx`
- Location: `src/components/admin/CurriculumBuilder.jsx`
- Props: `courseId`, `onUpdate`

### **Public View:**
- Page: `CourseDetail.jsx`
- Tab: "Ná»™i dung" / "Curriculum"
- Auto-load khi click tab

---

## ğŸ”— API Endpoints

### **Public:**
```
GET /api/v1/courses/{courseId}/curriculum
```

### **Admin:**
```
POST   /api/v1/admin/courses/{courseId}/modules
PUT    /api/v1/admin/modules/{moduleId}
DELETE /api/v1/admin/modules/{moduleId}

POST   /api/v1/admin/modules/{moduleId}/lessons
PUT    /api/v1/admin/lessons/{lessonId}
DELETE /api/v1/admin/lessons/{lessonId}
```

---

## ğŸ“¦ Database Schema

### **course_modules**
```sql
- id (PK)
- course_id (FK â†’ courses)
- title (required)
- description
- display_order
- duration_minutes (auto-calculated)
- created_at, updated_at, deleted_at
```

### **lessons**
```sql
- id (PK)
- module_id (FK â†’ course_modules)
- title (required)
- description
- type (VIDEO, DOCUMENT, QUIZ, ASSIGNMENT, LIVE_SESSION)
- content_url
- duration_minutes
- display_order
- is_preview (boolean)
- is_free (boolean)
- created_at, updated_at, deleted_at
```

---

## ğŸš§ TÃ­nh nÄƒng tÆ°Æ¡ng lai (Roadmap)

- [ ] **Drag & Drop reordering** modules vÃ  lessons
- [ ] **Bulk import** tá»« Excel/CSV
- [ ] **Clone module** sang course khÃ¡c
- [ ] **Preview video** trá»±c tiáº¿p trong admin
- [ ] **Progress tracking** chi tiáº¿t tá»«ng lesson
- [ ] **Quiz builder** vá»›i cÃ¢u há»i tráº¯c nghiá»‡m
- [ ] **Assignment submission** & grading
- [ ] **Live session scheduling** tÃ­ch há»£p Zoom/Google Meet
- [ ] **Certificate auto-generation** khi hoÃ n thÃ nh

---

## â“ FAQ

**Q: CÃ³ thá»ƒ thÃªm bÃ i há»c khÃ´ng thuá»™c module nÃ o khÃ´ng?**
A: KhÃ´ng. Má»—i lesson pháº£i thuá»™c 1 module. Náº¿u cáº§n, táº¡o module "BÃ i há»c khÃ¡c" hoáº·c "Tá»•ng há»£p".

**Q: XÃ³a module cÃ³ xÃ³a luÃ´n cÃ¡c bÃ i há»c khÃ´ng?**
A: CÃ³. Cascade delete. NÃªn cáº©n tháº­n khi xÃ³a module.

**Q: User chÆ°a Ä‘Äƒng kÃ½ cÃ³ xem Ä‘Æ°á»£c curriculum khÃ´ng?**
A: CÃ³. User xem Ä‘Æ°á»£c danh sÃ¡ch modules & lessons, nhÆ°ng chá»‰ xem Ä‘Æ°á»£c ná»™i dung cá»§a bÃ i "Preview" hoáº·c "Free".

**Q: CÃ³ giá»›i háº¡n sá»‘ lÆ°á»£ng module/lesson khÃ´ng?**
A: KhÃ´ng. NhÆ°ng nÃªn keep module tá»« 5-10, má»—i module 3-7 lessons Ä‘á»ƒ UX tá»‘t.

**Q: CÃ³ thá»ƒ Ä‘á»•i thá»© tá»± sau khi táº¡o khÃ´ng?**
A: CÃ³. Edit module/lesson â†’ Thay Ä‘á»•i `displayOrder` â†’ Save.

---

## ğŸ“ Support

Náº¿u gáº·p váº¥n Ä‘á» khi sá»­ dá»¥ng curriculum management, liÃªn há»‡:
- **Technical Issue**: Check backend logs `docker-compose logs backend`
- **Database Issue**: Check migration `V3__create_curriculum_tables.sql`
- **Frontend Issue**: Check browser console (F12)

---

**Cáº­p nháº­t:** 2025-10-22  
**Version:** 1.0.0
